<ion-header>
	<ion-toolbar>
		<ion-buttons slot="secondary" > 
			<ion-button size="small" href="inbox" >
				<ion-icon slot="icon-only" name="arrow-back"></ion-icon>
			</ion-button>
		</ion-buttons>
		<ion-title> Conversation </ion-title>
		<ion-buttons slot="primary">
			<ion-button size="small" href="home">
				<ion-icon slot="icon-only" name="home"></ion-icon>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content>
<br><br>
<ion-grid> 
	<ion-row *ngFor = "let message of messages">
	
		<ion-col size="9" *ngIf="currentUser !== message.user"
			class="message other-message"> 
		<b>{{message.user}}</b><br>
		<span>{{message.msg}}</span>
		<div class="text" text-right><br>
			{{message.createdAt | date:'short'}}</div>
		</ion-col>
		
		<ion-col offset="3" size="9" *ngIf="currentUser === message.user"
			class="message my-message"> 
		<b>{{message.user}}</b><br>
		<span>{{message.msg}}</span>
		<div class="text" text-right><br>
			{{message.createdAt | date:'short'}}</div>
		</ion-col>
		
	</ion-row>
</ion-grid>
</ion-content>


<ion-footer>
	<ion-toolbar color="light">
		<ion-row align-items-center no-padding> 
			<ion-col size="10">
				<textarea autosize maxRow="3" [(ngModel)]="newMsg"
					class="message-input"></textarea>
			</ion-col>
			
			<ion-col size="2">
				<ion-button expand="block" fill="clear" color="primary" 
					[disabled]="newMsg === '' " class="msg-btn"
						(click)="sendMessage()">
				<ion-icon name="ios-send" slot="icon-only"></ion-icon>
				</ion-button>
			</ion-col>
		</ion-row>
	</ion-toolbar>
</ion-footer>

